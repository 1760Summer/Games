import{f as e,o as t,c as s,w as a,i,a as n,g as o,t as r,b as h,r as l,F as p,h as y,e as c}from"./index-huBs71Al.js";import{_ as u}from"./_plugin-vue_export-helper.BCo6x5W8.js";const d=u({data:()=>({numbers:[],type:3}),onLoad(){this.init()},created(){},methods:{init(){this.GenerateRandomPuzzle();do{this.numbers=this.GenerateRandomPuzzle()}while(!this.IsSolvable(this.numbers))},ChangeType(){this.type<4?this.type++:this.type=3,this.init()},GenerateRandomPuzzle(){let e=[...Array(this.type*this.type).keys()].map((e=>e+1));for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e},MovePiece(e){const t=this.numbers.indexOf(this.type*this.type);this.IsValidMove(e,t)&&([this.numbers[e],this.numbers[t]]=[this.numbers[t],this.numbers[e]]),this.GameOver()},IsValidMove(e,t){const s=Math.floor(e/this.type),a=e%this.type,i=Math.floor(t/this.type),n=t%this.type;return 1===Math.abs(s-i)&&a===n||1===Math.abs(a-n)&&s===i},IsSolvable(e){let t=0;const s=e.slice(0,-1);for(let n=0;n<s.length-1;n++)for(let e=n+1;e<s.length;e++)s[n]>s[e]&&t++;const a=e.indexOf(0),i=Math.floor(a/this.type)+1;return t%2==0&&i%2==0||t%2==1&&i%2==1},GameOver(){const t=[...Array(this.type*this.type).keys()].map((e=>e+1));JSON.stringify(this.numbers)===JSON.stringify(t)&&e({content:"游戏结束！恭喜您成功通关！",showCancel:!1})}}},[["render",function(e,u,d,m,f,b){const M=i;return t(),s(M,{class:"container"},{default:a((()=>[n(M,{class:"title"},{default:a((()=>[o("span",{onClick:u[0]||(u[0]=(...e)=>b.init&&b.init(...e))},"重新开始"),o("span",{onClick:u[1]||(u[1]=(...e)=>b.ChangeType&&b.ChangeType(...e))},r(f.type)+"*"+r(f.type),1)])),_:1}),n(M,{class:y(["puzzle","puzzle-"+f.type])},{default:a((()=>[(t(!0),h(p,null,l(f.numbers,((e,i)=>(t(),s(M,{key:i,class:y({piece:e!==f.type*f.type}),onClick:e=>b.MovePiece(i)},{default:a((()=>[c(r(e!==f.type*f.type?e:""),1)])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["class"])])),_:1})}],["__scopeId","data-v-5d3904f5"]]);export{d as default};
